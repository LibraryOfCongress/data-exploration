
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Accessing images from the loc.gov JSON API for image analysis &#8212; Tutorials for Data Exploration</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/loc.css?v=f609767c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'loc.gov JSON API/Accessing images for analysis';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/loc.js?v=09f1a01c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Color clusters in images in Library of Congress collections" href="Dominant%20colors.html" />
    <link rel="prev" title="Geocoding with the HABS/HAER/HALS collection" href="geocoding-hhh/geocoding_with_the_hhh_collection.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Tutorials for Data Exploration</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Tutorials for Data Exploration
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Loc.gov JSON API notebooks</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="LOC.gov%20JSON%20API.html">LOC.gov JSON API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources2pdf.html">Downloading an item with multiple pages to PDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="geocoding-hhh/geocoding_with_the_hhh_collection.html">Geocoding with the HABS/HAER/HALS collection</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Accessing images from the loc.gov JSON API for image analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dominant%20colors.html">Color clusters in images in Library of Congress collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="Downloading_Monographs_as_Images_in_Rosenwald_Collection/Downloading%20Monographs%20as%20Images%20in%20Rosenwald%20Collection.html">Connecting the image file to the metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="Extracting%20location%20data%20for%20geovisualization.html">Extracting location data from the loc.gov API for geovisualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="maps/maps-analyzing-metadata.html">Analyzing and visualizing cartographic metadata from loc.gov</a></li>




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chronicling America notebooks</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Chronicling_America/README.html">Using the loc.gov API with the Chronicling America Historic Newspapers Collection</a></li>



<li class="toctree-l1"><a class="reference internal" href="Chronicling_America/ChronAm_basic_API%20tasks.html">Learning and Applying Basic API Tasks in Chronicling America</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chronicling_America/ChronAm_analyzing_specific_titles_limit_results.html">Using Chronicling America to analyze specific newspaper titles for content.</a></li>


<li class="toctree-l1"><a class="reference internal" href="Chronicling_America/ChronAm_analyzing_word_frequency_newspaper_frontpages.html">Using Chronicling America to analyze word frequency in newspaper Front Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chronicling_America/ChronAm_analyzing_language_location_frequency.html">Using Chronicling America to analyze word frequency and geographic usage</a></li>


<li class="toctree-l1"><a class="reference internal" href="Chronicling_America/ChronAm-download_results.html">Downloading Search Results from Chronicling America</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chronicling_America/ChronAm-download_newspaper_title_batch.html">Downloading Newspaper Titles and Batches from Chronicling America</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Web Archives notebooks</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Data%20Sets/Web%20Archives/getting_started_with_memegenerator.html">Exploring the Memegenerator Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Sets/Web%20Archives/getting_started_with_giphy.html">Exploring the GIPHY.com Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Sets/Web%20Archives/loc_goes_lofi.html">LOC Goes Lofi</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Package notebooks</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/sanborn.html">LoC Data Package Tutorial: Sanborn Maps collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/us-elections.html">LoC Data Package Tutorial: United States Elections, Web Archives Data Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/free-to-use.html">LoC Data Package Tutorial: Free to Use collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/jukebox.html">LoC Data Package Tutorial: National Jukebox collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/dot-gov-pdf.html">LoC Data Package Tutorial: 1000 Dot Gov PDF Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/digitized-books.html">LoC Data Package Tutorial: Selected Digitized Books Data Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/directories.html">LoC Data Package Tutorial: City and Telephone Directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/telephone.html">LoC Data Package Tutorial: Digitized Telephone Directories Data Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/stereographs.html">LoC Data Package Tutorial: Stereograph Card Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/austro-hungarian-maps.html">LoC Data Package Tutorial: Austro-Hungarian maps set</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Data%20Packages/gen-coll-assessment.html">LoC Data Package Tutorial: General Collections Assessment</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Events</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Events/dh-ideas.html">Bite-size ideas for the “Doing DH @ LC” Create-a-thon</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Other Library API notebooks</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../loc.gov%20IIIF%20API/IIIF.html">IIIF API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loc.gov%20Sitemaps%20API/Sitemap.html">What are Sitemaps?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loc.gov%20web%20interface/OpenSearch.html">OpenSearch Guide</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/loc.gov JSON API/Accessing images for analysis.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Accessing images from the loc.gov JSON API for image analysis</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#version">Version</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#context">Context</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rights-and-access">Rights and access</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-sizes-and-information-about-collections">Image sizes and information about collections</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#more-apis-for-working-with-images">More APIs for working with images</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-items">Identifying items</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calling-the-api-and-retrieving-image-urls">Calling the API and retrieving image URLs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rights-and-restrictions-data-in-the-api">Rights and restrictions data in the API</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-images">Accessing images</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connecting-the-image-file-to-the-metadata">Connecting the image file to the metadata</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="accessing-images-from-the-loc-gov-json-api-for-image-analysis">
<h1>Accessing images from the <a class="reference external" href="http://loc.gov">loc.gov</a> JSON API for image analysis<a class="headerlink" href="#accessing-images-from-the-loc-gov-json-api-for-image-analysis" title="Link to this heading">#</a></h1>
<p>The digital collections’ images available from the <a class="reference external" href="https://www.loc.gov">Library of Congress website</a> are an amazing resource for study and analysis using digital methods. This notebook shows how you can use the <a class="reference external" href="http://loc.gov">loc.gov</a> JSON API and Python to access sets of images.</p>
<p>More information about API is at <a class="reference external" href="https://libraryofcongress.github.io/data-exploration/">About the loc.gov JSON API</a>. For more example code in Jupyter notebooks, check out <a class="reference external" href="https://labs.loc.gov/lc-for-robots">LC for Robots</a>.</p>
<p>This tutorial contains several stages:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#Context"><span class="xref myst">Context</span></a></p></li>
<li><p><a class="reference internal" href="#Identifying-items"><span class="xref myst">Identifying items</span></a></p></li>
<li><p><a class="reference internal" href="#Calling-the-API-and-retrieving-image-URLs"><span class="xref myst">Calling the API and retrieving image URLs</span></a></p></li>
<li><p><a class="reference internal" href="#Accessing-images"><span class="xref myst">Accessing images</span></a></p></li>
<li><p><a class="reference internal" href="#Conclusion"><span class="xref myst">Conclusion</span></a></p></li>
</ol>
<section id="version">
<h2>Version<a class="headerlink" href="#version" title="Link to this heading">#</a></h2>
<hr class="docutils" />
<p>Version: 2</p>
<p>Last Run: July 14, 2025 (Python 3.12)</p>
<hr class="docutils" />
<p>Author Information:</p>
<p>Written by Laura Wrubel, Visiting Scholar 2018</p>
<p>Edited by Sabrina Templeton, Junior Fellow 2025</p>
</section>
<hr class="docutils" />
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">#</a></h2>
<p>None. However, note that running this notebook will download files onto your machine.</p>
</section>
<section id="context">
<h2>Context<a class="headerlink" href="#context" title="Link to this heading">#</a></h2>
<section id="rights-and-access">
<h3>Rights and access<a class="headerlink" href="#rights-and-access" title="Link to this heading">#</a></h3>
<p>Rights and restrictions, including copyright, affect how you can use images, particularly if you want to publish, display, or otherwise distribute them. You can read more in <a class="reference external" href="https://www.loc.gov/legal/">About Copyright and the Collections</a>. This notebook uses images from the Prints &amp; Photographs Division (P&amp;P), and you can read more about restrictions guidance for these materials at <a class="reference external" href="http://www.loc.gov/rr/print/195_copr.html">Copyright and Other Restrictions That Apply to Publication/Distribution of Images:
Assessing the Risk of Using a P&amp;P Image</a>. There is also information about rights specific to the collection and item in several fields in the API response. See the end of this notebook for relevant fields.</p>
</section>
<section id="image-sizes-and-information-about-collections">
<h3>Image sizes and information about collections<a class="headerlink" href="#image-sizes-and-information-about-collections" title="Link to this heading">#</a></h3>
<p>In many cases, the images from the Prints &amp; Photographs Division available via the API are a small thumbnail (150px on one side). Consider whether this is sufficient for your research methods and needs. If you need to work with higher resolution images than are available via the API, you’ll need to consult with staff who work with the collection(s) to determine whether those are available for use on-site at the Library of Congress and what restrictions apply. Here are some examples of images that are 150px on one side:</p>
<p><img alt="https://www.loc.gov/item/2017691815/" src="https://cdn.loc.gov/service/pnp/fsa/8b02000/8b02800/8b02895_150px.jpg" />
<img alt="https://www.loc.gov/item/2011645392/" src="https://cdn.loc.gov/service/pnp/ppmsca/31200/31267_150px.jpg" /></p>
<p>It can also be helpful to discuss with staff your intended analysis, as factors such as the sources of metadata and how items were digitized may affect your findings. The <a class="reference external" href="http://www.loc.gov/rr/askalib/">Ask a Librarian</a> service can help you get in touch with staff who work with the collections.</p>
</section>
<section id="more-apis-for-working-with-images">
<h3>More APIs for working with images<a class="headerlink" href="#more-apis-for-working-with-images" title="Link to this heading">#</a></h3>
<p>Outside of the Prints &amp; Photographs Division images, most of the Library of Congress images are available from an <a class="reference external" href="https://www.loc.gov/apis/micro-services/image-services/">IIIF API</a>, including for example those of newspapers in the <a class="reference external" href="https://chroniclingamerica.loc.gov/">Chronicling America</a> collection, <a class="reference external" href="https://www.loc.gov/search/?fa=online-format:image%7Cpartof:manuscript+division">images from the Mansucript Division</a>, and <a class="reference external" href="https://www.loc.gov/maps/?fa=online-format:image">images of maps</a>. The IIIF API allows you to zoom, rotate, resize, and work with images in more complex ways. For a brief intro to using the IIIF API, see <a class="reference external" href="https://github.com/LibraryOfCongress/data-exploration/blob/master/loc.gov%20IIIF%20API/IIIF.ipynb">this Jupyter notebook on IIIF</a>.</p>
</section>
</section>
<section id="identifying-items">
<h2>Identifying items<a class="headerlink" href="#identifying-items" title="Link to this heading">#</a></h2>
<p>So let’s get started accessing images! If you haven’t already, browse or search the <a class="reference external" href="https://www.loc.gov/collections">Library of Congress Digital Collections</a> website to see what is available and refine your search parameters. The website lets you search over 500 curated collections by keyword, format, topic, and division. While the API documentation has <a class="reference external" href="https://www.loc.gov/apis/json-and-yaml/">detailed information on parameters</a> you can use in your search, searching the collections often gives you good context that is useful in understanding the context of an image within its collection.</p>
<p>Once you’ve found a search that targets the items that interest you, <strong>copy the URL</strong>. That will be the <strong>base URL</strong> for your API request.</p>
<p>For example:</p>
<p><code class="docutils literal notranslate"><span class="pre">https://www.loc.gov/collections/baseball-cards/</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">https://www.loc.gov/photos/?q=bridges&amp;dates=1800/1899</span></code></p>
<section id="calling-the-api-and-retrieving-image-urls">
<h3>Calling the API and retrieving image URLs<a class="headerlink" href="#calling-the-api-and-retrieving-image-urls" title="Link to this heading">#</a></h3>
<p>The function below will call the API, adding the following parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fo=json</span></code> to get JSON format in response</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c=100</span></code> a count of 100 results in each response, rather than the default 25</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">at=results,pagination</span></code> provide only the <code class="docutils literal notranslate"><span class="pre">results</span></code> and <code class="docutils literal notranslate"><span class="pre">pagination</span></code> parts of the response. The API response is otherwise very long with information
we don’t need.</p></li>
</ul>
<p>Each of the results in the <code class="docutils literal notranslate"><span class="pre">results</span></code> field will have a field called <code class="docutils literal notranslate"><span class="pre">image_url</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;image_url&quot;:</span> <span class="pre">[</span> <span class="pre">&quot;//cdn.loc.gov/service/pnp/cph/3f00000/3f05000/3f05300/3f05332_150px.jpg&quot;,</span> <span class="pre">&quot;//cdn.loc.gov/service/pnp/cph/3f00000/3f05000/3f05300/3f05332_150px.jpg#h=150&amp;w=100&quot;,</span> <span class="pre">&quot;//cdn.loc.gov/service/pnp/cph/3f00000/3f05000/3f05300/3f05332t.gif#h=150&amp;w=100&quot;,</span> <span class="pre">&quot;//cdn.loc.gov/service/pnp/cph/3f00000/3f05000/3f05300/3f05332r.jpg#h=640&amp;w=425&quot;,</span> <span class="pre">&quot;//cdn.loc.gov/service/pnp/cph/3f00000/3f05000/3f05300/3f05332v.jpg#h=1024&amp;w=680&quot;</span> <span class="pre">],</span></code></p>
<p>For images from the Prints &amp; Photographs Division, the last one listed is usually the largest of the image files publicly available. Below, the function retrieves the last item in the <code class="docutils literal notranslate"><span class="pre">image_url</span></code> array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_image_urls</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="p">[]):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Retrieves the image URLs for items that have public URLs available. </span>
<span class="sd">    Skips over items that are for the colletion as a whole or web pages about the collection.</span>
<span class="sd">    Handles pagination. </span>

<span class="sd">    Args: </span>
<span class="sd">        url (str): The URL to request a collection.</span>
<span class="sd">        items (list, optional): The list that fetched item URLs will get added to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: The item URLS from the collection.  </span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="c1"># request pages of 100 results at a time</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fo&quot;</span><span class="p">:</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;at&quot;</span><span class="p">:</span> <span class="s2">&quot;results,pagination&quot;</span><span class="p">}</span> 
    <span class="n">call</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">call</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
        <span class="c1"># don&#39;t try to get images from the collection-level result</span>
        <span class="k">if</span> <span class="s2">&quot;collection&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;original_format&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;web page&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;original_format&quot;</span><span class="p">):</span>
            <span class="c1"># take the last URL listed in the image_url array</span>
            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;image_url&quot;</span><span class="p">):</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;image_url&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;pagination&quot;</span><span class="p">][</span><span class="s2">&quot;next&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># make sure we haven&#39;t hit the end of the pages</span>
        <span class="n">next_url</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;pagination&quot;</span><span class="p">][</span><span class="s2">&quot;next&quot;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;getting next page: </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">next_url</span><span class="p">))</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># timer to avoid API rate limits</span>
        <span class="n">get_image_urls</span><span class="p">(</span><span class="n">next_url</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">items</span>
</pre></div>
</div>
</div>
</div>
<p>The Library of Congress has a digitized collection of Baseball Cards collection from the late 19th and eary 20th century. Here’s an example:</p>
<p><img alt="&quot;https://www.loc.gov/collections/static/baseball-cards/images/Ward0006.jpg&quot;" src="https://www.loc.gov/collections/static/baseball-cards/images/Ward0006.jpg" /></p>
<p>Let’s retrieve URLs for images in the Baseball Cards collection. The base URL below will filter the results to those from the year 1888, allowing us to work with a more manageable number of files for the purpose of this notebook:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image_urls</span> <span class="o">=</span> <span class="n">get_image_urls</span><span class="p">(</span><span class="s2">&quot;https://www.loc.gov/collections/baseball-cards/?dates=1888&quot;</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="p">[])</span> <span class="c1"># remove the date parameter here to download the entire collection</span>
</pre></div>
</div>
</div>
</div>
<p>How many URLs were retrieved?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">image_urls</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>58
</pre></div>
</div>
</div>
</div>
<p>As mentioned above, we filtered by date to receive a more manageable number of images for the purposes of this tutorial, as the total number of images in the Baseball Cards collection is over 2000. You can easily remove the date parameter above if you want to download the entirety of the collection.</p>
<p>Here are the URLs retrieved from the <code class="docutils literal notranslate"><span class="pre">image_url</span></code> field in the first five results in the API response. As you can see by the way the files have been named, these have one dimension being 1024 pixels.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">image_urls</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;https://tile.loc.gov/storage-services/service/pnp/bbc/0300/0380/0382fv.jpg#h=1024&amp;w=572&#39;,
 &#39;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0530/0536fv.jpg#h=1024&amp;w=561&#39;,
 &#39;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0530/0537fv.jpg#h=1024&amp;w=569&#39;,
 &#39;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550fv.jpg#h=1024&amp;w=554&#39;,
 &#39;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0551fv.jpg#h=1024&amp;w=554&#39;]
</pre></div>
</div>
</div>
</div>
<p>You could pass this list of URLs to a tool like wget to collect the images. A helpful tutorial is <a class="reference external" href="https://programminghistorian.org/lessons/automated-downloading-with-wget">Automated Downloading with wget</a>.</p>
</section>
<section id="rights-and-restrictions-data-in-the-api">
<h3>Rights and restrictions data in the API<a class="headerlink" href="#rights-and-restrictions-data-in-the-api" title="Link to this heading">#</a></h3>
<p>The API response also contains data about rights and restrictions, just as seen on the <a class="reference external" href="http://loc.gov">loc.gov</a> website. The field may vary by collection, but can usually be found in <code class="docutils literal notranslate"><span class="pre">rights</span></code> and possibly also <code class="docutils literal notranslate"><span class="pre">rights_information</span></code> and <code class="docutils literal notranslate"><span class="pre">rights_advisory</span></code>. The <code class="docutils literal notranslate"><span class="pre">rights</span></code> field typically contains the rights statement from the collection level. For our collection, Baseball Cards, all three fields are present. Other collections may return errors, if <code class="docutils literal notranslate"><span class="pre">rights_information</span></code> and <code class="docutils literal notranslate"><span class="pre">rights_advisory</span></code> aren’t used. The <code class="docutils literal notranslate"><span class="pre">access</span> <span class="pre">restricted</span></code> field is also a True/False boolean field used for toggling various rights restrictiosn and should not be taken as a comprehensive statement of the absense of all restrictions of any sort.</p>
<p>To make an API request for a single item, use the URL in the <code class="docutils literal notranslate"><span class="pre">id</span></code> field of the results section and add <code class="docutils literal notranslate"><span class="pre">fo=json</span></code>.</p>
<p>We’ll request item information for a specific item in the Works Progress Administration Posters collection and look at the rights associated with it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="c1"># request JSON for a single item</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://www.loc.gov/item/98513999/?fo=json&quot;</span><span class="p">)</span>
<span class="n">r_data</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p><strong>rights_information</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">r_data</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">][</span><span class="s2">&quot;rights_information&quot;</span><span class="p">],</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;No known restrictions on publication.&quot;
</pre></div>
</div>
</div>
</div>
<p><strong>rights_advisory</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">r_data</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">][</span><span class="s2">&quot;rights_advisory&quot;</span><span class="p">],</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;No known restrictions on publication.&quot;
</pre></div>
</div>
</div>
</div>
<p><strong>rights</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">r_data</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">][</span><span class="s2">&quot;rights&quot;</span><span class="p">],</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[
  &quot;&lt;p&gt;The Library of Congress does not&amp;nbsp;own rights to material  in its collections. Therefore, it does not license or charge permission fees  for use of such material and cannot grant or deny permission to publish or  otherwise distribute the material. &lt;/p&gt;\n&lt;p&gt;Ultimately, it is the researcher&#39;s obligation to assess copyright or other use restrictions and  obtain permission from third parties when necessary before publishing or  otherwise distributing materials found in the Library&#39;s collections. &lt;/p&gt;\n&lt;p&gt;For information about reproducing,  publishing, and citing material from this collection, as well as access to the  original items, see: &lt;a href=\&quot;https://www.loc.gov/rr/print/res/217_wpa.html\&quot;&gt;Work Projects Administration Posters - Rights and Restrictions Information&lt;/a&gt; &lt;/p&gt;\n\n&quot;
]
</pre></div>
</div>
</div>
</div>
<p><strong>access_restricted</strong></p>
<p>If access is restricted, this field will be true.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">r_data</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">][</span><span class="s2">&quot;access_restricted&quot;</span><span class="p">],</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>false
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="accessing-images">
<h2>Accessing images<a class="headerlink" href="#accessing-images" title="Link to this heading">#</a></h2>
<p>Now that you have the URLs for images, you can access them as part of your image analysis or download them. Just be sure to check out the rights and restrictions information about how you can distribute or display them.</p>
<p>The code below will acccess and save the images located the URLs you saved earlier. It saves them to a directory, so if you haven’t already created a directory where you want to save the files, do that now.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_image_files</span><span class="p">(</span><span class="n">image_urls_list</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Takes as input a list of URLs for loc.gov item pages and </span>
<span class="sd">    a path to a directory in which to save image files, e.g. &quot;data&quot;. </span>

<span class="sd">    Args: </span>
<span class="sd">        images_urls_list (list): The list of urls for which fetch the image files.</span>
<span class="sd">        path (str): The path to a directory in which image files will be saved. </span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &#39;&#39;&#39;</span>
 
    <span class="k">for</span> <span class="n">count</span><span class="p">,</span> <span class="n">url</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">image_urls_list</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">count</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># if you are getting 100s of images, change the 10 to 100 here to print more infrequently</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;at item </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1">#filename = create a filename based on the last part of the URL.</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            <span class="c1"># request the image and write to path</span>
            <span class="n">image_response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
           
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">image_response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">100000</span><span class="p">):</span>
                    <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_image_files</span><span class="p">(</span><span class="n">image_urls</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>at item 0
at item 10
at item 20
at item 30
at item 40
at item 50
</pre></div>
</div>
</div>
</div>
<p>Let’s see what we downloaded.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;0382fv.jpg#h=1024&amp;w=572&#39;,
 &#39;0536fv.jpg#h=1024&amp;w=561&#39;,
 &#39;0537fv.jpg#h=1024&amp;w=569&#39;,
 &#39;0550fv.jpg#h=1024&amp;w=554&#39;,
 &#39;0551fv.jpg#h=1024&amp;w=554&#39;,
 &#39;0552fv.jpg#h=1024&amp;w=563&#39;,
 &#39;0553fv.jpg#h=1024&amp;w=547&#39;,
 &#39;0554fv.jpg#h=1024&amp;w=579&#39;,
 &#39;0555fv.jpg#h=1024&amp;w=595&#39;,
 &#39;0556fv.jpg#h=1024&amp;w=582&#39;,
 &#39;0557fv.jpg#h=1024&amp;w=587&#39;,
 &#39;0558fv.jpg#h=1024&amp;w=598&#39;,
 &#39;0559fv.jpg#h=1024&amp;w=588&#39;,
 &#39;0560fv.jpg#h=1024&amp;w=583&#39;,
 &#39;0561fv.jpg#h=1024&amp;w=547&#39;,
 &#39;0562fv.jpg#h=1024&amp;w=551&#39;,
 &#39;0563fv.jpg#h=1024&amp;w=567&#39;,
 &#39;0564fv.jpg#h=1024&amp;w=580&#39;,
 &#39;0565fv.jpg#h=1024&amp;w=544&#39;,
 &#39;0566fv.jpg#h=1024&amp;w=559&#39;,
 &#39;0567fv.jpg#h=1024&amp;w=540&#39;,
 &#39;0568fv.jpg#h=1024&amp;w=554&#39;,
 &#39;0569fv.jpg#h=1024&amp;w=660&#39;,
 &#39;0570fv.jpg#h=1024&amp;w=664&#39;,
 &#39;0571fv.jpg#h=1024&amp;w=666&#39;,
 &#39;0572fv.jpg#h=1024&amp;w=669&#39;,
 &#39;0573fv.jpg#h=1024&amp;w=679&#39;,
 &#39;0574fv.jpg#h=1024&amp;w=672&#39;,
 &#39;0575fv.jpg#h=1024&amp;w=657&#39;,
 &#39;0576fv.jpg#h=677&amp;w=1024&#39;,
 &#39;0577fv.jpg#h=1024&amp;w=671&#39;,
 &#39;0578fv.jpg#h=1024&amp;w=656&#39;,
 &#39;0579fv.jpg#h=1024&amp;w=661&#39;,
 &#39;0580fv.jpg#h=1024&amp;w=674&#39;,
 &#39;0581fv.jpg#h=1024&amp;w=661&#39;,
 &#39;0582fv.jpg#h=1024&amp;w=672&#39;,
 &#39;0583fv.jpg#h=1024&amp;w=666&#39;,
 &#39;0584fv.jpg#h=1024&amp;w=658&#39;,
 &#39;0585fv.jpg#h=1024&amp;w=670&#39;,
 &#39;0586fv.jpg#h=1024&amp;w=671&#39;,
 &#39;0587fv.jpg#h=1024&amp;w=666&#39;,
 &#39;0588fv.jpg#h=1024&amp;w=672&#39;,
 &#39;0589fv.jpg#h=1024&amp;w=675&#39;,
 &#39;0590fv.jpg#h=1024&amp;w=689&#39;,
 &#39;0591fv.jpg#h=1024&amp;w=675&#39;,
 &#39;0592fv.jpg#h=1024&amp;w=676&#39;,
 &#39;0593fv.jpg#h=1024&amp;w=675&#39;,
 &#39;0594fv.jpg#h=1024&amp;w=681&#39;,
 &#39;2064fv.jpg#h=926&amp;w=1024&#39;,
 &#39;2065fv.jpg#h=907&amp;w=1024&#39;,
 &#39;2066fv.jpg#h=904&amp;w=1024&#39;,
 &#39;2091fv.jpg#h=908&amp;w=1024&#39;,
 &#39;2092fv.jpg#h=918&amp;w=1024&#39;,
 &#39;2093fv.jpg#h=1024&amp;w=582&#39;,
 &#39;2094fv.jpg#h=1024&amp;w=580&#39;,
 &#39;2095fv.jpg#h=1024&amp;w=591&#39;,
 &#39;2096fv.jpg#h=1024&amp;w=581&#39;,
 &#39;2097fv.jpg#h=1024&amp;w=576&#39;]
</pre></div>
</div>
</div>
</div>
<p>This method works for situations where we you need a batch of images from one collection. However, if your images are from more than one collection, you might end up with files with the same name and end up overwriting them. And either way, these filenames don’t tell you anything about the item. You might need to look up further metadata. So, here’s an alternative approach that renames the file with the identifier used on the <a class="reference external" href="http://loc.gov">loc.gov</a> website. We’ll first re-fetch the image URL for each item and download the file, renaming it using the identifier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">urllib.parse</span><span class="w"> </span><span class="kn">import</span> <span class="n">urlparse</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_and_save_images</span><span class="p">(</span><span class="n">results_url</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Takes as input the url for the collection or results set</span>
<span class="sd">    e.g. https://www.loc.gov/collections/baseball-cards</span>
<span class="sd">    and a list of items (used for pagination)</span>

<span class="sd">    Args:</span>
<span class="sd">        results_url (str): The url for the collection.</span>
<span class="sd">        path (str): The path in which images will be saved.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fo&quot;</span><span class="p">:</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;at&quot;</span><span class="p">:</span> <span class="s2">&quot;results,pagination&quot;</span><span class="p">,</span> <span class="s2">&quot;dates&quot;</span><span class="p">:</span> <span class="s2">&quot;1888&quot;</span><span class="p">}</span> <span class="c1"># remove the date parameter here to download the entire collection</span>
    <span class="n">call</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">results_url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">call</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
        <span class="c1"># don&#39;t try to get images from the collection-level result or web page results</span>
        <span class="k">if</span> <span class="s2">&quot;collection&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;original_format&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;web page&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;original_format&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;image_url&quot;</span><span class="p">):</span>
                <span class="n">image</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;image_url&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="c1"># create a filename that&#39;s the identifier portion of the item URL</span>
                <span class="n">identifier</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
                <span class="n">identifier</span> <span class="o">=</span> <span class="n">identifier</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">.jpg&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">identifier</span><span class="p">)</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            
                <span class="c1"># request the image and write to path</span>
                <span class="n">image_response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">image_response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">100000</span><span class="p">):</span>
                        <span class="n">fd</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;pagination&quot;</span><span class="p">][</span><span class="s2">&quot;next&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># make sure we haven&#39;t hit the end of the pages</span>
        <span class="n">next_url</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;pagination&quot;</span><span class="p">][</span><span class="s2">&quot;next&quot;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;getting next page: </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">next_url</span><span class="p">))</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># timer to avoid API rate limits</span>
        <span class="n">get_and_save_images</span><span class="p">(</span><span class="n">next_url</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">&quot;images-named&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_and_save_images</span><span class="p">(</span><span class="s2">&quot;https://www.loc.gov/collections/baseball-cards/&quot;</span><span class="p">,</span> <span class="s2">&quot;images-named&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s take a quick look at the path for the directory to confirm that the images were downloaded.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;images-named&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;2007680728.jpg&#39;,
 &#39;2007680729.jpg&#39;,
 &#39;2007680730.jpg&#39;,
 &#39;2007680731.jpg&#39;,
 &#39;2007680732.jpg&#39;,
 &#39;2007680733.jpg&#39;,
 &#39;2007680734.jpg&#39;,
 &#39;2007680735.jpg&#39;,
 &#39;2007680736.jpg&#39;,
 &#39;2007680737.jpg&#39;,
 &#39;2007680738.jpg&#39;,
 &#39;2007680739.jpg&#39;,
 &#39;2007680740.jpg&#39;,
 &#39;2007680741.jpg&#39;,
 &#39;2007680742.jpg&#39;,
 &#39;2007680743.jpg&#39;,
 &#39;2007680744.jpg&#39;,
 &#39;2007680745.jpg&#39;,
 &#39;2007680746.jpg&#39;,
 &#39;2007680747.jpg&#39;,
 &#39;2007680748.jpg&#39;,
 &#39;2007680749.jpg&#39;,
 &#39;2007683700.jpg&#39;,
 &#39;2007683701.jpg&#39;,
 &#39;2007683702.jpg&#39;,
 &#39;2007683703.jpg&#39;,
 &#39;2007683704.jpg&#39;,
 &#39;2007683705.jpg&#39;,
 &#39;2007683706.jpg&#39;,
 &#39;2007683750.jpg&#39;,
 &#39;2007683751.jpg&#39;,
 &#39;2007683752.jpg&#39;,
 &#39;2007683753.jpg&#39;,
 &#39;2007683754.jpg&#39;,
 &#39;2007683755.jpg&#39;,
 &#39;2007683756.jpg&#39;,
 &#39;2007683757.jpg&#39;,
 &#39;2007683758.jpg&#39;,
 &#39;2007683759.jpg&#39;,
 &#39;2007683760.jpg&#39;,
 &#39;2007683761.jpg&#39;,
 &#39;2007683762.jpg&#39;,
 &#39;2007683763.jpg&#39;,
 &#39;2007683764.jpg&#39;,
 &#39;2007683765.jpg&#39;,
 &#39;2007683766.jpg&#39;,
 &#39;2007683767.jpg&#39;,
 &#39;2007683768.jpg&#39;,
 &#39;2007683769.jpg&#39;,
 &#39;2007683770.jpg&#39;,
 &#39;2007683771.jpg&#39;,
 &#39;2007683772.jpg&#39;,
 &#39;2007683773.jpg&#39;,
 &#39;2007683774.jpg&#39;,
 &#39;2007683775.jpg&#39;,
 &#39;2007686953.jpg&#39;,
 &#39;2008675214.jpg&#39;,
 &#39;2008675215.jpg&#39;]
</pre></div>
</div>
</div>
</div>
<section id="connecting-the-image-file-to-the-metadata">
<h3>Connecting the image file to the metadata<a class="headerlink" href="#connecting-the-image-file-to-the-metadata" title="Link to this heading">#</a></h3>
<p>The filename the code creates is the item’s identifier, so you reconstruct a URL for the item’s metadata. For example, to examine at the metadata for the first item in the list, 2007680728.jpg, you can add <code class="docutils literal notranslate"><span class="pre">https://www.loc.gov/item/</span></code> before the identifier.</p>
<p><code class="docutils literal notranslate"><span class="pre">https://www.loc.gov/item/2007680728</span></code></p>
<p>You can also request the metadata in JSON format by adding <code class="docutils literal notranslate"><span class="pre">?fo=json&amp;at=item</span></code> at the end.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://www.loc.gov/item/2007680728/?fo=json&quot;</span><span class="p">)</span>
<span class="n">r_data</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">r_data</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">],</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
  &quot;_version_&quot;: 1730886823385759746,
  &quot;access_advisory&quot;: &quot;Restricted access: Materials in this collection are extremely fragile and cannot be served.&quot;,
  &quot;access_restricted&quot;: false,
  &quot;aka&quot;: [
    &quot;http://www.loc.gov/pictures/collection/bbc/item/2007680728/&quot;,
    &quot;https://hdl.loc.gov/loc.pnp/bbc.0550b&quot;,
    &quot;http://www.loc.gov/item/2007680728/&quot;,
    &quot;http://www.loc.gov/pictures/item/2007680728/&quot;,
    &quot;https://hdl.loc.gov/loc.pnp/bbc.0550f&quot;,
    &quot;http://www.loc.gov/resource/bbc.0550f/&quot;,
    &quot;http://www.loc.gov/resource/bbc.0550b/&quot;,
    &quot;http://lccn.loc.gov/2007680728&quot;
  ],
  &quot;call_number&quot;: &quot;LOT 13163-06, no. 1 [P&amp;P]&quot;,
  &quot;campaigns&quot;: [],
  &quot;contributor_names&quot;: [
    &quot;Allen &amp; Ginter, sponsor&quot;
  ],
  &quot;contributors&quot;: [
    {
      &quot;allen &amp; ginter&quot;: &quot;https://www.loc.gov/search/?fa=contributor:allen+%26+ginter&amp;fo=json&quot;
    }
  ],
  &quot;control_number&quot;: &quot;&quot;,
  &quot;created&quot;: &quot;2016-04-21 00:37:59&quot;,
  &quot;created_published&quot;: [
    &quot;1888.&quot;
  ],
  &quot;created_published_date&quot;: &quot;1888.&quot;,
  &quot;date&quot;: &quot;1888-01-01&quot;,
  &quot;dates&quot;: [
    {
      &quot;1888&quot;: &quot;https://www.loc.gov/search/?dates=1888/1888&amp;fo=json&quot;
    }
  ],
  &quot;description&quot;: [
    &quot;1 print : chromolithograph.&quot;
  ],
  &quot;digital_id&quot;: [
    &quot;bbc 0550f //hdl.loc.gov/loc.pnp/bbc.0550f&quot;,
    &quot;bbc 0550b //hdl.loc.gov/loc.pnp/bbc.0550b&quot;
  ],
  &quot;digitized&quot;: true,
  &quot;display_offsite&quot;: true,
  &quot;extract_timestamp&quot;: &quot;2021-09-01T23:14:07.225Z&quot;,
  &quot;extract_urls&quot;: [
    &quot;http://www.loc.gov/pictures/collection/bbc/item/2007680728/#bbc&quot;,
    &quot;http://lccn.loc.gov/2007680728#catalog-split-08&quot;
  ],
  &quot;format&quot;: [
    {
      &quot;photo, print, drawing&quot;: &quot;https://www.loc.gov/search/?fa=original_format:photo,+print,+drawing&amp;fo=json&quot;
    }
  ],
  &quot;format_headings&quot;: [
    &quot;Baseball cards--1880-1890.&quot;,
    &quot;Chromolithographs--Color--1880-1890.&quot;
  ],
  &quot;genre&quot;: [
    &quot;Baseball cards--1880-1890&quot;,
    &quot;Chromolithographs--Color--1880-1890&quot;
  ],
  &quot;group&quot;: [
    &quot;bbc&quot;,
    &quot;catalog-split-08&quot;,
    &quot;catalog&quot;,
    &quot;baseball-cards&quot;,
    &quot;main-catalog-split-08&quot;,
    &quot;main-catalog&quot;
  ],
  &quot;hassegments&quot;: false,
  &quot;id&quot;: &quot;http://www.loc.gov/item/2007680728/&quot;,
  &quot;image_url&quot;: [
    &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550f_150px.jpg#h=150&amp;w=81&quot;,
    &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550ft.gif#h=150&amp;w=81&quot;,
    &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550fr.jpg#h=640&amp;w=346&quot;,
    &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550fv.jpg#h=1024&amp;w=554&quot;
  ],
  &quot;index&quot;: 1,
  &quot;item&quot;: {
    &quot;access_advisory&quot;: &quot;Restricted access: Materials in this collection are extremely fragile and cannot be served.&quot;,
    &quot;call_number&quot;: &quot;LOT 13163-06, no. 1 [P&amp;P]&quot;,
    &quot;contributor_names&quot;: [
      &quot;Allen &amp; Ginter, sponsor &quot;
    ],
    &quot;contributors&quot;: [
      &quot;Allen &amp; Ginter, sponsor.&quot;
    ],
    &quot;control_number&quot;: &quot;2007680728&quot;,
    &quot;created&quot;: &quot;2016-04-21 00:37:59&quot;,
    &quot;created_published&quot;: &quot;1888.&quot;,
    &quot;created_published_date&quot;: &quot;1888.&quot;,
    &quot;creators&quot;: [
      {
        &quot;link&quot;: &quot;//www.loc.gov/pictures/related/?fi=name&amp;q=Allen%20%26%20Ginter&amp;co=bbc&quot;,
        &quot;role&quot;: &quot;sponsor&quot;,
        &quot;title&quot;: &quot;Allen &amp; Ginter&quot;
      }
    ],
    &quot;date&quot;: &quot;1888.&quot;,
    &quot;digital_id&quot;: [
      &quot;bbc 0550f //hdl.loc.gov/loc.pnp/bbc.0550f&quot;,
      &quot;bbc 0550b //hdl.loc.gov/loc.pnp/bbc.0550b&quot;
    ],
    &quot;display_offsite&quot;: true,
    &quot;format&quot;: [
      &quot;still image&quot;
    ],
    &quot;formats&quot;: [
      {
        &quot;link&quot;: &quot;//www.loc.gov/pictures/related/?fi=format&amp;q=Baseball%20cards--1880-1890.&amp;co=bbc&quot;,
        &quot;title&quot;: &quot;Baseball cards--1880-1890.&quot;
      },
      {
        &quot;link&quot;: &quot;//www.loc.gov/pictures/related/?fi=format&amp;q=Chromolithographs--Color--1880-1890.&amp;co=bbc&quot;,
        &quot;title&quot;: &quot;Chromolithographs--Color--1880-1890.&quot;
      }
    ],
    &quot;genre&quot;: [
      &quot;Baseball cards--1880-1890&quot;,
      &quot;Chromolithographs--Color--1880-1890&quot;
    ],
    &quot;id&quot;: &quot;2007680728&quot;,
    &quot;language&quot;: [
      &quot;eng&quot;
    ],
    &quot;link&quot;: &quot;//www.loc.gov/pictures/item/2007680728/&quot;,
    &quot;marc&quot;: &quot;//www.loc.gov/pictures/item/2007680728/marc/&quot;,
    &quot;medium&quot;: [
      &quot;1 print : chromolithograph.&quot;
    ],
    &quot;medium_brief&quot;: &quot;1 print :&quot;,
    &quot;mediums&quot;: [
      &quot;1 print : chromolithograph.&quot;
    ],
    &quot;modified&quot;: &quot;2016-04-21 00:37:59&quot;,
    &quot;notes&quot;: [
      &quot;Baseball card title devised by Library staff.&quot;,
      &quot;Issued by: Allen &amp; Ginter Company&quot;,
      &quot;\&quot;Morrell\&quot;- -caption on card.&quot;,
      &quot;Forms part of: Baseball cards from the Benjamin K. Edwards Collection.&quot;
    ],
    &quot;other_title&quot;: [
      &quot;Card set: Allen &amp; Ginter World&#39;s Champions (N29)&quot;
    ],
    &quot;part_of&quot;: &quot;Baseball cards from the Benjamin K. Edwards Collection&quot;,
    &quot;repository&quot;: &quot;Library of Congress Prints and Photographs Division Washington, D.C. 20540 USA&quot;,
    &quot;reproduction_number&quot;: &quot;LC-DIG-bbc-0550f (digital file from original, front)\nLC-DIG-bbc-0550b (digital file from original, back)&quot;,
    &quot;resource_links&quot;: [
      &quot;//hdl.loc.gov/loc.pnp/bbc.0550f&quot;,
      &quot;//hdl.loc.gov/loc.pnp/bbc.0550b&quot;
    ],
    &quot;restriction&quot;: &quot;Restricted access: Materials in this collection are extremely fragile and cannot be served.&quot;,
    &quot;rights_advisory&quot;: &quot;No known restrictions on publication.&quot;,
    &quot;rights_information&quot;: &quot;No known restrictions on publication.&quot;,
    &quot;service_low&quot;: &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550f_150px.jpg&quot;,
    &quot;service_medium&quot;: &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550fr.jpg&quot;,
    &quot;sort_date&quot;: &quot;1888&quot;,
    &quot;source_collection&quot;: [
      &quot;Baseball cards from the Benjamin K. Edwards Collection&quot;
    ],
    &quot;source_created&quot;: &quot;2007-08-10 00:00:00&quot;,
    &quot;source_modified&quot;: &quot;2007-08-10 08:00:27&quot;,
    &quot;subject_headings&quot;: [
      &quot;Morrill, John (Team member)&quot;,
      &quot;Boston Beaneaters&quot;,
      &quot;Boston&quot;,
      &quot;National League&quot;,
      &quot;first baseman&quot;
    ],
    &quot;subjects&quot;: [
      &quot;Morrill, John (Team member)&quot;,
      &quot;Boston Beaneaters&quot;,
      &quot;Boston&quot;,
      &quot;National League&quot;,
      &quot;first baseman&quot;
    ],
    &quot;thumb_gallery&quot;: &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550f_150px.jpg&quot;,
    &quot;title&quot;: &quot;[John Morrill, Boston Beaneaters, baseball card portrait]&quot;
  },
  &quot;language&quot;: [
    &quot;english&quot;
  ],
  &quot;languages&quot;: [
    {
      &quot;english&quot;: &quot;https://www.loc.gov/search/?fa=language:english&amp;fo=json&quot;
    }
  ],
  &quot;library_of_congress_control_number&quot;: &quot;2007680728&quot;,
  &quot;link&quot;: &quot;//www.loc.gov/pictures/item/2007680728/&quot;,
  &quot;marc&quot;: &quot;//www.loc.gov/pictures/item/2007680728/marc/&quot;,
  &quot;medium&quot;: [
    &quot;1 print : chromolithograph.&quot;
  ],
  &quot;medium_brief&quot;: &quot;1 print :&quot;,
  &quot;mime_type&quot;: [
    &quot;image/gif&quot;,
    &quot;image/jpg&quot;,
    &quot;image/tif&quot;
  ],
  &quot;modified&quot;: &quot;2016-04-21 00:37:59&quot;,
  &quot;notes&quot;: [
    &quot;Baseball card title devised by Library staff.&quot;,
    &quot;Issued by: Allen &amp; Ginter Company&quot;,
    &quot;\&quot;Morrell\&quot;- -caption on card.&quot;,
    &quot;Forms part of: Baseball cards from the Benjamin K. Edwards Collection.&quot;
  ],
  &quot;number&quot;: [
    &quot;2007-08-10t08:00:27&quot;,
    &quot;2007680728&quot;
  ],
  &quot;number_lccn&quot;: [
    &quot;2007680728&quot;
  ],
  &quot;number_source_modified&quot;: [
    &quot;2007-08-10t08:00:27&quot;
  ],
  &quot;online_format&quot;: [
    &quot;image&quot;
  ],
  &quot;original_format&quot;: [
    &quot;photo, print, drawing&quot;
  ],
  &quot;other_formats&quot;: [
    {
      &quot;label&quot;: &quot;MARCXML Record&quot;,
      &quot;link&quot;: &quot;https://lccn.loc.gov/2007680728/marcxml&quot;
    },
    {
      &quot;label&quot;: &quot;MODS Record&quot;,
      &quot;link&quot;: &quot;https://lccn.loc.gov/2007680728/mods&quot;
    },
    {
      &quot;label&quot;: &quot;Dublin Core Record&quot;,
      &quot;link&quot;: &quot;https://lccn.loc.gov/2007680728/dc&quot;
    }
  ],
  &quot;other_title&quot;: [
    &quot;Allen &amp; Ginter World&#39;s Champions (N29)&quot;
  ],
  &quot;partof&quot;: [
    {
      &quot;count&quot;: 2085,
      &quot;title&quot;: &quot;lot 13163&quot;,
      &quot;url&quot;: &quot;https://www.loc.gov/search/?fa=partof:lot+13163&amp;fo=json&quot;
    },
    {
      &quot;count&quot;: 2122,
      &quot;title&quot;: &quot;baseball cards, 1887-1914&quot;,
      &quot;url&quot;: &quot;https://www.loc.gov/search/?fa=partof:baseball+cards,+1887-1914&amp;fo=json&quot;
    },
    {
      &quot;count&quot;: 2129,
      &quot;title&quot;: &quot;baseball cards&quot;,
      &quot;url&quot;: &quot;https://www.loc.gov/collections/baseball-cards/?fo=json&quot;
    },
    {
      &quot;count&quot;: 437954,
      &quot;title&quot;: &quot;american memory&quot;,
      &quot;url&quot;: &quot;https://www.loc.gov/search/?fa=partof:american+memory&amp;fo=json&quot;
    },
    {
      &quot;count&quot;: 937114,
      &quot;title&quot;: &quot;prints &amp; photographs online catalog (library of congress)&quot;,
      &quot;url&quot;: &quot;https://www.loc.gov/search/?fa=partof:prints+%26+photographs+online+catalog+%28library+of+congress%29&amp;fo=json&quot;
    },
    {
      &quot;count&quot;: 1104158,
      &quot;title&quot;: &quot;prints and photographs division&quot;,
      &quot;url&quot;: &quot;https://www.loc.gov/search/?fa=partof:prints+and+photographs+division&amp;fo=json&quot;
    },
    {
      &quot;count&quot;: 1668717,
      &quot;title&quot;: &quot;catalog&quot;,
      &quot;url&quot;: &quot;https://www.loc.gov/search/?fa=partof:catalog&amp;fo=json&quot;
    }
  ],
  &quot;related&quot;: {
    &quot;group_record&quot;: &quot;//www.loc.gov/pictures/search/?q=LOT 13163&amp;fi=number&amp;op=PHRASE&amp;va=exact&amp;co=coll&amp;sg=true&quot;,
    &quot;neighbors&quot;: &quot;//www.loc.gov/pictures/related/?&amp;co=bbc&amp;pk=2007680728&amp;st=gallery&amp;sb=call_number#focus&quot;
  },
  &quot;repository&quot;: [
    &quot;Library of Congress Prints and Photographs Division Washington, D.C. 20540 USA&quot;
  ],
  &quot;reproduction_number&quot;: &quot;LC-DIG-bbc-0550f (digital file from original, front)\nLC-DIG-bbc-0550b (digital file from original, back)&quot;,
  &quot;reproductions&quot;: [],
  &quot;resource_links&quot;: [
    &quot;//hdl.loc.gov/loc.pnp/bbc.0550f&quot;,
    &quot;//hdl.loc.gov/loc.pnp/bbc.0550b&quot;
  ],
  &quot;resources&quot;: [
    {
      &quot;caption&quot;: &quot;digital file from original, front&quot;,
      &quot;files&quot;: 1,
      &quot;image&quot;: &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550f_150px.jpg&quot;,
      &quot;url&quot;: &quot;https://www.loc.gov/resource/bbc.0550f/&quot;
    },
    {
      &quot;caption&quot;: &quot;digital file from original, back&quot;,
      &quot;files&quot;: 1,
      &quot;image&quot;: &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550b_150px.jpg&quot;,
      &quot;url&quot;: &quot;https://www.loc.gov/resource/bbc.0550b/&quot;
    }
  ],
  &quot;restriction&quot;: &quot;Restricted access: Materials in this collection are extremely fragile and cannot be served.&quot;,
  &quot;rights&quot;: [
    &quot;&lt;p&gt;The Library of Congress does not&amp;nbsp;own rights to material  in its collections. Therefore, it does not license or charge permission fees  for use of such material and cannot grant or deny permission to publish or  otherwise distribute the material. &lt;/p&gt;\n&lt;p&gt;Ultimately, it is the researcher&#39;s obligation to assess copyright or other use restrictions and  obtain permission from third parties when necessary before publishing or  otherwise distributing materials found in the Library&#39;s collections. &lt;/p&gt;\n&lt;p&gt;For information about reproducing,  publishing, and citing material from this collection, as well as access to the  original items, see: &lt;a href=\&quot;https://www.loc.gov/rr/print/res/620_base.html\&quot;&gt;Baseball Cards from the Benjamin K. Edwards Collection - Rights and Restrictions Information&lt;/a&gt; &lt;/p&gt;\n\n&quot;
  ],
  &quot;rights_advisory&quot;: &quot;No known restrictions on publication.&quot;,
  &quot;rights_information&quot;: &quot;No known restrictions on publication.&quot;,
  &quot;score&quot;: 19.270575,
  &quot;shard&quot;: &quot;00&quot;,
  &quot;shelf_id&quot;: &quot;LOT 13163-06, no. 1 [P&amp;P]&quot;,
  &quot;site&quot;: [
    &quot;pictures&quot;,
    &quot;catalog&quot;
  ],
  &quot;sort_date&quot;: &quot;1888&quot;,
  &quot;source_collection&quot;: &quot;Baseball cards from the Benjamin K. Edwards Collection&quot;,
  &quot;source_created&quot;: &quot;2007-08-10 00:00:00&quot;,
  &quot;source_modified&quot;: &quot;2007-08-10 08:00:27&quot;,
  &quot;subject&quot;: [
    &quot;first baseman&quot;,
    &quot;morrill, john (team member)&quot;,
    &quot;boston&quot;,
    &quot;boston beaneaters&quot;,
    &quot;national league&quot;,
    &quot;chromolithographs&quot;,
    &quot;color&quot;,
    &quot;baseball cards&quot;
  ],
  &quot;subject_headings&quot;: [
    &quot;Morrill, John (Team member)&quot;,
    &quot;Boston Beaneaters&quot;,
    &quot;Boston&quot;,
    &quot;National League&quot;,
    &quot;first baseman&quot;
  ],
  &quot;subjects&quot;: [
    {
      &quot;baseball cards&quot;: &quot;https://www.loc.gov/search/?fa=subject:baseball+cards&amp;fo=json&quot;
    },
    {
      &quot;boston&quot;: &quot;https://www.loc.gov/search/?fa=subject:boston&amp;fo=json&quot;
    },
    {
      &quot;boston beaneaters&quot;: &quot;https://www.loc.gov/search/?fa=subject:boston+beaneaters&amp;fo=json&quot;
    },
    {
      &quot;chromolithographs&quot;: &quot;https://www.loc.gov/search/?fa=subject:chromolithographs&amp;fo=json&quot;
    },
    {
      &quot;color&quot;: &quot;https://www.loc.gov/search/?fa=subject:color&amp;fo=json&quot;
    },
    {
      &quot;first baseman&quot;: &quot;https://www.loc.gov/search/?fa=subject:first+baseman&amp;fo=json&quot;
    },
    {
      &quot;morrill, john (team member)&quot;: &quot;https://www.loc.gov/search/?fa=subject:morrill,+john+%28team+member%29&amp;fo=json&quot;
    },
    {
      &quot;national league&quot;: &quot;https://www.loc.gov/search/?fa=subject:national+league&amp;fo=json&quot;
    }
  ],
  &quot;thumb_gallery&quot;: &quot;https://tile.loc.gov/storage-services/service/pnp/bbc/0500/0550/0550f_150px.jpg&quot;,
  &quot;timestamp&quot;: &quot;2022-04-23T08:25:07.832Z&quot;,
  &quot;title&quot;: &quot;[John Morrill, Boston Beaneaters, baseball card portrait]&quot;,
  &quot;type&quot;: [
    &quot;photo, print, drawing&quot;
  ],
  &quot;unrestricted&quot;: true,
  &quot;url&quot;: &quot;https://www.loc.gov/item/2007680728/&quot;
}
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>Access to batches of images opens up the door to new forms of analysis, research, and experimentation.</p>
<p>We’ve shown where you can find information about rights and restrictions on use of images, how to find the image URLs in the API response, and how to save images if your analysis requires having the files on disk.</p>
<p>Best of luck with your searching and let us know how your project goes!</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./loc.gov JSON API"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="geocoding-hhh/geocoding_with_the_hhh_collection.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Geocoding with the HABS/HAER/HALS collection</p>
      </div>
    </a>
    <a class="right-next"
       href="Dominant%20colors.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Color clusters in images in Library of Congress collections</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#version">Version</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#context">Context</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rights-and-access">Rights and access</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#image-sizes-and-information-about-collections">Image sizes and information about collections</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#more-apis-for-working-with-images">More APIs for working with images</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-items">Identifying items</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calling-the-api-and-retrieving-image-urls">Calling the API and retrieving image URLs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rights-and-restrictions-data-in-the-api">Rights and restrictions data in the API</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#accessing-images">Accessing images</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connecting-the-image-file-to-the-metadata">Connecting the image file to the metadata</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Library of Congress staff
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <header class="loc-header">
    <div class="loc-logo">
        <a href="https://www.loc.gov/"><img src="/data-exploration/_static/LOC_Logo_horiz_inv.png" alt="The Library of Congress logo" title="Go to the Library of Congress homepage" /></a>
    </div>
    <div class="project-description">
        <p>In-depth tutorials for working with Library of Congress data via APIs and code. <a href="https://github.com/libraryOfCongress/data-exploration/" class="button small">View the code</a></p>
    </div>
</header>
<footer class="loc-footer">
    <p>In-depth tutorials for working with Library of Congress data via APIs and code.</p>
    <ul class="loc-footer-nav-list">
        <li><a href="https://github.com/libraryOfCongress/data-exploration/">Source code</a></li>  
        <li><a href="https://www.loc.gov/">The Library of Congress</a></li>
        <li><a href="https://loc.gov/legal">Privacy Policy</a></li>
        <li><a href="https://www.loc.gov/accessibility/">Accessibilty</a></li>
        <li><a href="https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement">Github Privacy Statement</a></li>
        <li><a href="https://creativecommons.org/publicdomain/zero/1.0/">License</a></li>
        <li><a href="mailto:LC-Labs@loc.gov">Contact</a></li>
    </ul>
</footer>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>